{"version":3,"mappings":"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","names":["ADDON_ID","HIGHLIGHT_STYLE_ID","RESULT","REQUEST","RUNNING","ERROR","MANUAL","HIGHLIGHT","EVENTS","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","__name","_asyncToGenerator","fn","self","args","err","document","global","globalWindow","module","channel","addons","active","activeStoryId","handleRequest","_ref","_callee","storyId","_yield$getParams","manual","_context","getParams","run","_x","_ref2","_callee2","input","axe","_input$element","element","config","_input$options","options","htmlElement","result","_context2","__vitePreload","_x2","_ref3","_callee3","_ref4","parameters","_context3","_x3","highlightStyle","color","highlight","infos","id","resetHighlight","elements","sheet","target","sheetToBeRemoved","STORY_CHANGED"],"sources":["../../node_modules/@storybook/addon-a11y/dist/esm/constants.js","../../node_modules/@storybook/addon-a11y/dist/esm/a11yRunner.js","../../node_modules/@storybook/addon-a11y/dist/esm/highlight.js","../../node_modules/@storybook/addon-a11y/dist/esm/a11yHighlight.js"],"sourcesContent":["export var ADDON_ID = 'storybook/a11y';\nexport var PANEL_ID = \"\".concat(ADDON_ID, \"/panel\");\nexport var PARAM_KEY = \"a11y\";\nexport var HIGHLIGHT_STYLE_ID = 'a11yHighlight';\nvar RESULT = \"\".concat(ADDON_ID, \"/result\");\nvar REQUEST = \"\".concat(ADDON_ID, \"/request\");\nvar RUNNING = \"\".concat(ADDON_ID, \"/running\");\nvar ERROR = \"\".concat(ADDON_ID, \"/error\");\nvar MANUAL = \"\".concat(ADDON_ID, \"/manual\");\nvar HIGHLIGHT = \"\".concat(ADDON_ID, \"/highlight\");\nexport var EVENTS = {\n  RESULT: RESULT,\n  REQUEST: REQUEST,\n  RUNNING: RUNNING,\n  ERROR: ERROR,\n  MANUAL: MANUAL,\n  HIGHLIGHT: HIGHLIGHT\n};","import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.promise.js\";\nimport \"regenerator-runtime/runtime.js\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport global from 'global';\nimport { addons } from '@storybook/addons';\nimport { EVENTS } from './constants';\nvar document = global.document,\n    globalWindow = global.window;\n\nif (module && module.hot && module.hot.decline) {\n  module.hot.decline();\n}\n\nvar channel = addons.getChannel(); // Holds axe core running state\n\nvar active = false; // Holds latest story we requested a run\n\nvar activeStoryId;\n/**\n * Handle A11yContext events.\n * Because the event are sent without manual check, we split calls\n */\n\nvar handleRequest = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(storyId) {\n    var _yield$getParams, manual;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return getParams(storyId);\n\n          case 2:\n            _yield$getParams = _context.sent;\n            manual = _yield$getParams.manual;\n\n            if (manual) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 7;\n            return run(storyId);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function handleRequest(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar run = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(storyId) {\n    var input, axe, _input$element, element, config, _input$options, options, htmlElement, result;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            activeStoryId = storyId;\n            _context2.prev = 1;\n            _context2.next = 4;\n            return getParams(storyId);\n\n          case 4:\n            input = _context2.sent;\n\n            if (active) {\n              _context2.next = 19;\n              break;\n            }\n\n            active = true;\n            channel.emit(EVENTS.RUNNING);\n            _context2.next = 10;\n            return import('axe-core');\n\n          case 10:\n            axe = _context2.sent.default;\n            _input$element = input.element, element = _input$element === void 0 ? '#root' : _input$element, config = input.config, _input$options = input.options, options = _input$options === void 0 ? {} : _input$options;\n            htmlElement = document.querySelector(element);\n            axe.reset();\n\n            if (config) {\n              axe.configure(config);\n            }\n\n            _context2.next = 17;\n            return axe.run(htmlElement, options);\n\n          case 17:\n            result = _context2.sent;\n\n            // It's possible that we requested a new run on a different story.\n            // Unfortunately, axe doesn't support a cancel method to abort current run.\n            // We check if the story we run against is still the current one,\n            // if not, trigger a new run using the current story\n            if (activeStoryId === storyId) {\n              channel.emit(EVENTS.RESULT, result);\n            } else {\n              active = false;\n              run(activeStoryId);\n            }\n\n          case 19:\n            _context2.next = 24;\n            break;\n\n          case 21:\n            _context2.prev = 21;\n            _context2.t0 = _context2[\"catch\"](1);\n            channel.emit(EVENTS.ERROR, _context2.t0);\n\n          case 24:\n            _context2.prev = 24;\n            active = false;\n            return _context2.finish(24);\n\n          case 27:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[1, 21, 24, 27]]);\n  }));\n\n  return function run(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n/** Returns story parameters or default ones. */\n\n\nvar getParams = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(storyId) {\n    var _ref4, parameters;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return globalWindow.__STORYBOOK_STORY_STORE__.loadStory({\n              storyId: storyId\n            });\n\n          case 2:\n            _context3.t0 = _context3.sent;\n\n            if (_context3.t0) {\n              _context3.next = 5;\n              break;\n            }\n\n            _context3.t0 = {};\n\n          case 5:\n            _ref4 = _context3.t0;\n            parameters = _ref4.parameters;\n            return _context3.abrupt(\"return\", parameters.a11y || {\n              config: {},\n              options: {\n                restoreScroll: true\n              }\n            });\n\n          case 8:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function getParams(_x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nchannel.on(EVENTS.REQUEST, handleRequest);\nchannel.on(EVENTS.MANUAL, run);","export var highlightStyle = function highlightStyle(color) {\n  return \"\\n  outline: 2px dashed \".concat(color, \";\\n  outline-offset: 2px;\\n  box-shadow: 0 0 0 6px rgba(255,255,255,0.6);\\n\");\n};\nexport var highlightObject = function highlightObject(color) {\n  return {\n    outline: \"2px dashed \".concat(color),\n    outlineOffset: 2,\n    boxShadow: '0 0 0 6px rgba(255,255,255,0.6),'\n  };\n};","import \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.set.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport global from 'global';\nimport { addons } from '@storybook/addons';\nimport { STORY_CHANGED } from '@storybook/core-events';\nimport { EVENTS, HIGHLIGHT_STYLE_ID } from './constants';\nimport { highlightStyle } from './highlight';\nvar document = global.document;\n\nif (module && module.hot && module.hot.decline) {\n  module.hot.decline();\n}\n\nvar channel = addons.getChannel();\n\nvar highlight = function highlight(infos) {\n  var id = HIGHLIGHT_STYLE_ID;\n  resetHighlight(); // Make sure there are no duplicated selectors\n\n  var elements = Array.from(new Set(infos.elements));\n  var sheet = document.createElement('style');\n  sheet.setAttribute('id', id);\n  sheet.innerHTML = elements.map(function (target) {\n    return \"\".concat(target, \"{\\n          \").concat(highlightStyle(infos.color), \"\\n         }\");\n  }).join(' ');\n  document.head.appendChild(sheet);\n};\n\nvar resetHighlight = function resetHighlight() {\n  var id = HIGHLIGHT_STYLE_ID;\n  var sheetToBeRemoved = document.getElementById(id);\n\n  if (sheetToBeRemoved) {\n    sheetToBeRemoved.parentNode.removeChild(sheetToBeRemoved);\n  }\n};\n\nchannel.on(STORY_CHANGED, resetHighlight);\nchannel.on(EVENTS.HIGHLIGHT, highlight);"],"file":"assets/preview.4b5fc9fd.js"}